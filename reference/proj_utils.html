<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Utility functions for the active project — proj_utils • usethis</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous"><link href="../docsearch.css" rel="stylesheet"><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="Utility functions for the active project — proj_utils"><meta property="og:description" content="Most use_*() functions act on the active project. If it is
unset, usethis uses rprojroot to
find the project root of the current working directory. It establishes the
project root by looking for a .here file, an RStudio Project, a package
DESCRIPTION, Git infrastructure, a remake.yml file, or a .projectile
file. It then stores the active project for use for the remainder of the
session."><meta property="og:image" content="https://usethis.r-lib.org/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-115082821-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-115082821-1');
</script></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">usethis</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.0.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/articles/usethis-setup.html">Setup</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/articles/git-credentials.html">Managing Git(Hub) Credentials</a>
    </li>
    <li>
      <a href="../articles/articles/pr-functions.html">Pull request helpers</a>
    </li>
  </ul></li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    News
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li class="dropdown-header">Blog posts</li>
    <li>
      <a href="https://www.tidyverse.org/blog/2020/12/usethis-2-0-0/" class="external-link">usethis 2.0.0</a>
    </li>
    <li>
      <a href="https://www.tidyverse.org/blog/2020/04/usethis-1-6-0/" class="external-link">usethis 1.6.0</a>
    </li>
    <li>
      <a href="https://www.tidyverse.org/blog/2019/04/usethis-1.5.0/" class="external-link">usethis 1.5.0 (and 1.4.0)</a>
    </li>
    <li>
      <a href="https://www.tidyverse.org/blog/2018/02/usethis-1-3-0/" class="external-link">usethis 1.3.0</a>
    </li>
    <li>
      <a href="https://www.tidyverse.org/blog/2017/11/usethis-1.0.0/" class="external-link">usethis 1.0.0 (and 1.1.0)</a>
    </li>
    <li class="divider">
    <li>
      <a href="../news/index.html">Change log</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/r-lib/usethis/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul><form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off"></div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Utility functions for the active project</h1>
    <small class="dont-index">Source: <a href="https://github.com/r-lib/usethis/blob/HEAD/R/proj.R" class="external-link"><code>R/proj.R</code></a></small>
    <div class="hidden name"><code>proj_utils.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Most <code>use_*()</code> functions act on the <strong>active project</strong>. If it is
unset, usethis uses <a href="https://rprojroot.r-lib.org" class="external-link">rprojroot</a> to
find the project root of the current working directory. It establishes the
project root by looking for a <code>.here</code> file, an RStudio Project, a package
<code>DESCRIPTION</code>, Git infrastructure, a <code>remake.yml</code> file, or a <code>.projectile</code>
file. It then stores the active project for use for the remainder of the
session.</p>
    </div>

    <div class="ref-usage sourceCode"><pre class="sourceCode r"><code><span class="fu">proj_get</span><span class="op">(</span><span class="op">)</span>

<span class="fu">proj_set</span><span class="op">(</span>path <span class="op">=</span> <span class="st">"."</span>, force <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>

<span class="fu">proj_path</span><span class="op">(</span><span class="va">...</span>, ext <span class="op">=</span> <span class="st">""</span><span class="op">)</span>

<span class="fu">with_project</span><span class="op">(</span>
  path <span class="op">=</span> <span class="st">"."</span>,
  <span class="va">code</span>,
  force <span class="op">=</span> <span class="cn">FALSE</span>,
  setwd <span class="op">=</span> <span class="cn">TRUE</span>,
  quiet <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"usethis.quiet"</span>, default <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>
<span class="op">)</span>

<span class="fu">local_project</span><span class="op">(</span>
  path <span class="op">=</span> <span class="st">"."</span>,
  force <span class="op">=</span> <span class="cn">FALSE</span>,
  setwd <span class="op">=</span> <span class="cn">TRUE</span>,
  quiet <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"usethis.quiet"</span>, default <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>,
  .local_envir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sys.parent.html" class="external-link">parent.frame</a></span><span class="op">(</span><span class="op">)</span>
<span class="op">)</span></code></pre></div>

    <div id="ref-sections">
    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>path</dt>
<dd><p>Path to set. This <code>path</code> should exist or be <code>NULL</code>.</p></dd>
<dt>force</dt>
<dd><p>If <code>TRUE</code>, use this path without checking the usual criteria for
a project. Use sparingly! The main application is to solve a temporary
chicken-egg problem: you need to set the active project in order to add
project-signalling infrastructure, such as initialising a Git repo or
adding a <code>DESCRIPTION</code> file.</p></dd>
<dt>...</dt>
<dd><p>character vectors, if any values are NA, the result will also be
NA. The paths follow the recycling rules used in the tibble package,
namely that only length 1 arguments are recycled.</p></dd>
<dt>ext</dt>
<dd><p>An optional extension to append to the generated path.</p></dd>
<dt>code</dt>
<dd><p>Code to run with temporary active project</p></dd>
<dt>setwd</dt>
<dd><p>Whether to also temporarily set the working directory to the
active project, if it is not <code>NULL</code></p></dd>
<dt>quiet</dt>
<dd><p>Whether to suppress user-facing messages, while operating in the
temporary active project</p></dd>
<dt>.local_envir</dt>
<dd><p>The environment to use for scoping. Defaults to current
execution environment.</p></dd>
</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>In general, end user scripts should not contain direct calls to
<code>usethis::proj_*()</code> utility functions. They are internal functions that are
exported for occasional interactive use or use in packages that extend
usethis. End user code should call functions in
<a href="https://rprojroot.r-lib.org" class="external-link">rprojroot</a> or its simpler companion,
<a href="https://here.r-lib.org" class="external-link">here</a>, to programmatically detect a project and
build paths within it.</p>
    </div>
    <div id="functions">
    <h2>Functions</h2>
    
<ul><li><p><code>proj_get</code>: Retrieves the active project and, if necessary,
attempts to set it in the first place.</p></li>
<li><p><code>proj_set</code>: Sets the active project.</p></li>
<li><p><code>proj_path</code>: Builds a path within the active project returned by
<code>proj_get()</code>. Thin wrapper around <code><a href="http://fs.r-lib.org/reference/path.html" class="external-link">fs::path()</a></code>.</p></li>
<li><p><code>with_project</code>: Runs code with a temporary active project and,
optionally, working directory. It is an example of the <code>with_*()</code> functions
in <a href="https://withr.r-lib.org" class="external-link">withr</a>.</p></li>
<li><p><code>local_project</code>: Sets an active project and, optionally, working
directory until the current execution environment goes out of scope, e.g.
the end of the current function or test.  It is an example of the
<code>local_*()</code> functions in <a href="https://withr.r-lib.org" class="external-link">withr</a>.</p></li>
</ul></div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Other project functions: 
<code><a href="proj_sitrep.html">proj_sitrep</a>()</code></p></div>
    </div>
    </div>

    <div id="examples">
    <h2>Examples</h2>
    <div class="ref-examples sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="co">## see the active project</span></span>
<span class="r-in"><span class="fu">proj_get</span><span class="op">(</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## manually set the active project</span></span>
<span class="r-in"><span class="fu">proj_set</span><span class="op">(</span><span class="st">"path/to/target/project"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## build a path within the active project (both produce same result)</span></span>
<span class="r-in"><span class="fu">proj_path</span><span class="op">(</span><span class="st">"R/foo.R"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu">proj_path</span><span class="op">(</span><span class="st">"R"</span>, <span class="st">"foo"</span>, ext <span class="op">=</span> <span class="st">"R"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## build a path within SOME OTHER project</span></span>
<span class="r-in"><span class="fu">with_project</span><span class="op">(</span><span class="st">"path/to/some/other/project"</span>, <span class="fu">proj_path</span><span class="op">(</span><span class="st">"blah.R"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co">## convince yourself that with_project() temporarily changes the project</span></span>
<span class="r-in"><span class="fu">with_project</span><span class="op">(</span><span class="st">"path/to/some/other/project"</span>, <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="proj_sitrep.html">proj_sitrep</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by <a href="http://hadley.nz" class="external-link">Hadley Wickham</a>, <a href="https://jennybryan.org" class="external-link">Jennifer Bryan</a>, Malcolm Barrett, <a href="https://www.rstudio.com" class="external-link"><img src="https://www.tidyverse.org/rstudio-logo.svg" alt="RStudio" width="72"></a>.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 1.9000.9000.9000.</p>
</div>

      </footer></div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: 'f67d4c46004acc8326e8d95f296a680e',
    indexName: 'usethis',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script></body></html>

